{"version":3,"sources":["components/Block/Block.styled.js","components/Comments/index.js","Entities/Systems/actions.js","components/Block/index.js","components/BlockList/BlockList.styled.js","Entities/Systems/selectors.js","components/BlockList/index.js","components/App/App.styled.js","components/App/index.js","Entities/Systems/reducer.js","Api/index.js","components/BlockList/sagas.js","components/Comments/sagas.js","store/rootSaga.js","store/index.js","index.js"],"names":["Wrapper","styled","div","_templateObject","Span","span","_templateObject2","LastCheck","_templateObject3","TextArea","Input","Comments","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onChange","e","setState","comment","target","value","onSubmit","payload","id","body","state","react_default","a","createElement","Fragment","es_form","Item","rows","es_button","onClick","type","Component","connect","dispatch","addComment","Block","handleCheckStatus","res","result","es_alert","message","banner","title","last_check","components_Comments","BlockList_styled_templateObject","selectData","data","selectPosition","position","reorder","list","startIndex","endIndex","Array","from","_result$splice","splice","removed","slicedToArray","BlockList","onDragEnd","destination","items","checkPosition","dataItem","source","index","setPosition","localStorage","setItem","JSON","stringify","map","response","positionFromLocalStorage","parse","getItem","length","find","i","newId","arr1","arr2","arr","indexOf","push","checkId","newPosition","concat","getData","reorderedList","BlockList_styled_Wrapper","react_beautiful_dnd_esm","droppableId","direction","provided","snapshot","assign","ref","innerRef","style","isDraggingOver","background","display","padding","overflow","droppableProps","item","key","draggableId","draggableProps","dragHandleProps","isDragging","draggableStyle","objectSpread","userSelect","margin","components_Block","placeholder","positionItem","App_styled_templateObject","App","App_styled_Wrapper","components_BlockList","initialState","API_URL","parseJSON","status","json","checkStatus","error","Error","statusText","request","url","options","fetch","then","Api","getAll","method","headers","accept","fetchGET","patchComent","_ref","content-type","fetchPATCH","fetchData","fetchSaga","action","regenerator_default","wrap","_context","prev","next","sent","put","t0","stop","_marked","_context2","takeEvery","_marked2","patchData","patchSaga","sagas_marked","sagas_marked2","rootSaga","fork","rootSaga_marked","sagaMiddleware","createSagaMiddleware","store","createStore","arguments","undefined","composeWithDevTools","applyMiddleware","run","ReactDOM","render","es","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.6ac94e69.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 250px;\r\n  margin: 10px;\r\n  padding: 20px;\r\n  border: 1px solid rgba(0, 0, 0, 0.58);\r\n  border-radius: 10px;\r\n  box-shadow: 10px 10px 5px -6px rgba(0, 0, 0, 0.58);\r\n`;\r\nexport const Span = styled.span`\r\n  display: iline-block;\r\n  font-size: 20px;\r\n  height: 60px;\r\n`;\r\n\r\nexport const LastCheck = styled.span`\r\n  font-size: 14px;\r\n`;\r\n","import React, { Component } from \"react\";\r\nimport { Comment, Form, Button, Input } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport { addComment } from \"../../Entities/Systems/actions\";\r\n\r\nconst TextArea = Input.TextArea;\r\n\r\nclass Comments extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      comment: \"\"\r\n    };\r\n  }\r\n\r\n  onChange = e => {\r\n    this.setState({ comment: e.target.value });\r\n  };\r\n\r\n  onSubmit = () => {\r\n    const payload = {\r\n      id: this.props.id,\r\n      body: { comment: this.state.comment }\r\n    };\r\n    this.props.onSubmit(payload);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Form>\r\n          <Comment>{this.props.comment}</Comment>\r\n        </Form>\r\n        <Form.Item>\r\n          <TextArea rows={1} onChange={this.onChange} />\r\n        </Form.Item>\r\n        <Button onClick={this.onSubmit()} type=\"primary\">\r\n          Add Comment\r\n        </Button>\r\n      </>\r\n    );\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onSubmit: payload => {\r\n      dispatch(addComment(payload));\r\n    }\r\n  };\r\n};\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(Comments);\r\n","export const DATA_FETCH_SUCCEEDED = \"DATA_FETCH_SUCCEEDED\";\r\nexport const DATA_FETCH_START = \"DATA_FETCH_START\";\r\nexport const DATA_PATCH_START = \"DATA_PATCH_START\";\r\nexport const DATA_PATCH_SUCCEEDED = \"DATA_PATCH_SUCCEEDED\";\r\nexport const SET_BLOCK_POSITION = \"SET_BLOCK_POSITION\";\r\n\r\nexport const getData = payload => ({\r\n  type: DATA_FETCH_START\r\n});\r\n\r\nexport const addComment = payload => ({\r\n  type: DATA_PATCH_START,\r\n  payload\r\n});\r\n\r\nexport const setPosition = payload => ({\r\n  type: SET_BLOCK_POSITION,\r\n  payload\r\n});\r\n","import React, { Component } from \"react\";\r\nimport { Wrapper, Span, LastCheck } from \"./Block.styled\";\r\nimport { Alert } from \"antd\";\r\nimport Comments from \"../Comments\";\r\nimport \"antd/dist/antd.css\";\r\n\r\nclass Block extends Component {\r\n  handleCheckStatus = () => {\r\n    if (\r\n      this.props.res.type === \"website\" &&\r\n      typeof this.props.res.result === \"string\"\r\n    ) {\r\n      return <Alert type=\"error\" message={this.props.res.result} banner />;\r\n    } else if (\r\n      (this.props.res.type === \"website\" || this.props.res.type === \"other\") &&\r\n      this.props.res.result === true\r\n    ) {\r\n      return <Alert type=\"success\" message=\"ON\" banner />;\r\n    } else {\r\n      return <Alert type=\"error\" message=\"OFF\" banner />;\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <Wrapper>\r\n        <Span>{this.props.res.title}</Span>\r\n        <Span>{this.handleCheckStatus()}</Span>\r\n        <LastCheck>Последнее обновление:{this.props.res.last_check}</LastCheck>\r\n        <Comments comment={this.props.res.comment} id={this.props.res.id} />\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Block;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`;\r\n","export const selectData = state => state.data;\nexport const selectPosition = state => state.position;\n","import React, { Component } from \"react\";\r\nimport Block from \"../Block\";\r\nimport { Wrapper } from \"./BlockList.styled\";\r\nimport { connect } from \"react-redux\";\r\nimport { selectData, selectPosition } from \"../../Entities/Systems/selectors\";\r\nimport { getData, setPosition } from \"../../Entities/Systems/actions\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\n\r\nconst reorder = (list, startIndex, endIndex) => {\r\n  const result = Array.from(list);\r\n  const [removed] = result.splice(startIndex, 1);\r\n  result.splice(endIndex, 0, removed);\r\n  return result;\r\n};\r\n\r\nconst getItemStyle = (isDragging, draggableStyle) => ({\r\n  // some basic styles to make the items look a bit nicer\r\n  userSelect: \"none\",\r\n  padding: 0,\r\n  margin: 0,\r\n  // change background colour if dragging\r\n  background: isDragging ? \"lightgreen\" : \"#fff\",\r\n\r\n  // styles we need to apply on draggables\r\n  ...draggableStyle\r\n});\r\n\r\nconst getListStyle = isDraggingOver => ({\r\n  background: isDraggingOver ? \"lightblue\" : \"#fff\",\r\n  display: \"flex\",\r\n  padding: 0,\r\n  overflow: \"auto\"\r\n});\r\n\r\nclass BlockList extends Component {\r\n  componentDidMount() {\r\n    this.props.getData();\r\n    //setInterval(this.props.getData, 20000);\r\n  }\r\n\r\n  onDragEnd = result => {\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n\r\n    const items = reorder(\r\n      this.checkPosition(this.props.dataItem),\r\n      result.source.index,\r\n      result.destination.index\r\n    );\r\n    this.props.setPosition(items);\r\n    localStorage.setItem(\"position\", JSON.stringify(items.map(a => a.id)));\r\n  };\r\n\r\n  checkPosition = response => {\r\n    const positionFromLocalStorage = JSON.parse(\r\n      localStorage.getItem(\"position\")\r\n    );\r\n    if (positionFromLocalStorage === null) {\r\n      return response;\r\n    } else if (positionFromLocalStorage.length === response.length) {\r\n      return positionFromLocalStorage.map(position =>\r\n        response.find(i => i.id === position)\r\n      );\r\n    } else if (positionFromLocalStorage.length !== response.length) {\r\n      const getId = response.map(a => a.id);\r\n      const checkId = (arr1, arr2) => {\r\n        var arr = [];\r\n\r\n        for (var i in arr1) {\r\n          if (arr2.indexOf(arr1[i]) === -1) arr.push(arr1[i]);\r\n        }\r\n\r\n        return arr;\r\n      };\r\n      const newId = checkId(getId, positionFromLocalStorage);\r\n      const newPosition = positionFromLocalStorage.concat(newId);\r\n      localStorage.setItem(\"position\", JSON.stringify(newPosition));\r\n      return newPosition.map(position => response.find(i => i.id === position));\r\n    } else {\r\n      return response;\r\n    }\r\n  };\r\n\r\n  // Normally you would want to split things out into separate components.\r\n  // But in this example everything is just done in one place for simplicity\r\n  render() {\r\n    if (this.props.dataItem.length === 0) {\r\n      return \"Загрузка...\";\r\n    }\r\n\r\n    const reorderedList = this.checkPosition(this.props.dataItem);\r\n\r\n    return (\r\n      <Wrapper>\r\n        <DragDropContext onDragEnd={this.onDragEnd}>\r\n          <Droppable droppableId=\"droppable\" direction=\"horizontal\">\r\n            {(provided, snapshot) => (\r\n              <div\r\n                ref={provided.innerRef}\r\n                style={getListStyle(snapshot.isDraggingOver)}\r\n                {...provided.droppableProps}\r\n              >\r\n                {reorderedList.map((item, index) => (\r\n                  <Draggable key={item.id} draggableId={item.id} index={index}>\r\n                    {(provided, snapshot) => (\r\n                      <div\r\n                        ref={provided.innerRef}\r\n                        {...provided.draggableProps}\r\n                        {...provided.dragHandleProps}\r\n                        style={getItemStyle(\r\n                          snapshot.isDragging,\r\n                          provided.draggableProps.style\r\n                        )}\r\n                      >\r\n                        <Block key={item.id} res={item} />\r\n                      </div>\r\n                    )}\r\n                  </Draggable>\r\n                ))}\r\n                {provided.placeholder}\r\n              </div>\r\n            )}\r\n          </Droppable>\r\n        </DragDropContext>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  dataItem: selectData(state),\r\n  positionItem: selectPosition(state)\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    getData: payload => {\r\n      dispatch(getData(payload));\r\n    },\r\n\r\n    setPosition: payload => {\r\n      dispatch(setPosition(payload));\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(BlockList);\r\n","import styled from \"styled-components\";\n\nexport const Wrapper = styled.div`\n  width: 100vw;\n  display: flex;\n  flex-wrap: wrap;\n`;\n","import React, { Component } from \"react\";\nimport BlockList from \"../BlockList\";\nimport { Wrapper } from \"./App.styled\";\n\nclass App extends Component {\n  render() {\n    return (\n      <Wrapper>\n        <BlockList />\n      </Wrapper>\n    );\n  }\n}\n\nexport default App;\n","import {\r\n  DATA_FETCH_SUCCEEDED,\r\n  DATA_FETCH_START,\r\n  DATA_PATCH_START,\r\n  DATA_PATCH_SUCCEEDED,\r\n  SET_BLOCK_POSITION\r\n} from \"./actions\";\r\n\r\nconst initialState = {\r\n  data: []\r\n};\r\n\r\nexport const reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case DATA_FETCH_START:\r\n      return {\r\n        ...state,\r\n        data: []\r\n      };\r\n\r\n    case DATA_FETCH_SUCCEEDED:\r\n      return {\r\n        ...state,\r\n        data: action.data\r\n      };\r\n\r\n    case DATA_PATCH_START:\r\n      return {\r\n        ...state\r\n      };\r\n\r\n    case DATA_PATCH_SUCCEEDED:\r\n      return {\r\n        ...state\r\n      };\r\n\r\n    case SET_BLOCK_POSITION:\r\n      return {\r\n        ...state,\r\n        data: action.payload\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const API_URL = \"https://novaweb.studio/dashboard/_api/projects/\";\r\n\r\nfunction parseJSON(response) {\r\n  if (response.status === 204 || response.status === 205) {\r\n    return null;\r\n  }\r\n  return response.json();\r\n}\r\n\r\nfunction checkStatus(response) {\r\n  if (response.status >= 200 && response.status < 300) {\r\n    return response;\r\n  }\r\n\r\n  const error = new Error(response.statusText);\r\n  error.response = response;\r\n  throw error;\r\n}\r\n\r\nfunction request(url, options) {\r\n  return fetch(url, options)\r\n    .then(checkStatus)\r\n    .then(parseJSON);\r\n}\r\n\r\nfunction fetchGET(url) {\r\n  const options = {\r\n    method: \"GET\",\r\n    headers: {\r\n      accept: \"application/json\"\r\n    }\r\n  };\r\n  return request(url, options);\r\n}\r\n\r\nfunction fetchPATCH(url, body) {\r\n  const options = {\r\n    method: \"PATCH\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n      accept: \"application/json\"\r\n    },\r\n    body: JSON.stringify(body)\r\n  };\r\n  return request(url, options);\r\n}\r\nconst Api = {\r\n  getAll: () => {\r\n    const url = `${API_URL}`;\r\n    return fetchGET(url);\r\n  },\r\n  patchComent: ({ id, body }) => {\r\n    const url = `${API_URL}${id}`;\r\n    return fetchPATCH(url, body);\r\n  }\r\n};\r\n\r\nexport default Api;\r\n","import { call, put, takeEvery } from \"redux-saga/effects\";\r\nimport Api from \"../../Api\";\r\n\r\nfunction* fetchData(action) {\r\n  try {\r\n    const data = yield call(Api.getAll, action.payload);\r\n    yield put({ type: \"DATA_FETCH_SUCCEEDED\", data: data });\r\n  } catch (e) {\r\n    yield put({ type: \"DATA_FETCH_FAILED\", message: e.message });\r\n  }\r\n}\r\n\r\nfunction* fetchSaga() {\r\n  yield takeEvery(\"DATA_FETCH_START\", fetchData);\r\n}\r\n\r\nexport default fetchSaga;\r\n","import { call, put, takeEvery } from \"redux-saga/effects\";\r\nimport Api from \"../../Api\";\r\n\r\nfunction* patchData(action) {\r\n  try {\r\n    const data = yield call(Api.patchComent, action.payload);\r\n    yield put({ type: \"DATA_PATCH_SUCCEEDED\", payload: data });\r\n    yield put({ type: \"DATA_FETCH_START\", data: \"\" });\r\n  } catch (e) {\r\n    yield put({ type: \"DATA_PATCH_FAILED\", message: e.message });\r\n  }\r\n}\r\n\r\nfunction* patchSaga() {\r\n  yield takeEvery(\"DATA_PATCH_START\", patchData);\r\n}\r\nexport default patchSaga;\r\n","import { fork } from \"redux-saga/effects\";\r\nimport fetchSaga from \"../components/BlockList/sagas\";\r\nimport patchSaga from \"../components/Comments/sagas\";\r\n\r\nexport default function* rootSaga() {\r\n  yield [fork(fetchSaga), fork(patchSaga)];\r\n}\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nimport createSagaMiddleware from \"redux-saga\";\r\n\r\nimport {reducer} from \"../Entities/Systems/reducer\";\r\nimport rootSaga from \"./rootSaga\";\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nexport const store = createStore(\r\n  reducer,\r\n  composeWithDevTools(applyMiddleware(sagaMiddleware))\r\n\r\n);\r\n\r\nsagaMiddleware.run(rootSaga);\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}