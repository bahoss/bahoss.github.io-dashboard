(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(e,t,n){e.exports=n(277)},152:function(e,t,n){},277:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(11),o=n.n(c),i=(n(152),n(30)),s=n(31),u=n(34),p=n(32),l=n(35),d=n(36),f=n(143),m=n(42),b=n(43);function h(){var e=Object(m.a)(["\n  display: iline-block;\n  font-size: 20px;\n  height: 60px;\n"]);return h=function(){return e},e}function g(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 250px;\n  margin: 10px;\n  padding: 20px;\n  border: 1px solid rgba(0, 0, 0, 0.58);\n  border-radius: 10px;\n  box-shadow: 10px 10px 5px -6px rgba(0, 0, 0, 0.58);\n"]);return g=function(){return e},e}var O=b.a.div(g()),v=b.a.span(h()),j=n(282),y=n(281),E=n(280),A=n(279),T=n(278),x=n(52),C=y.a.TextArea,w=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).onChange=function(e){n.setState({comment:e.target.value})},n.onSubmit=function(){var e={id:n.props.id,body:{comment:n.state.comment}};n.props.onSubmit(e)},n.state={comment:""},n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(E.a,null,a.a.createElement(A.a,null,"Comment:",this.props.comment)),a.a.createElement(E.a.Item,null,a.a.createElement(C,{rows:1,onChange:this.onChange})),a.a.createElement(T.a,{onClick:this.onSubmit,type:"primary"},"Add Comment"))}}]),t}(r.Component),S=Object(x.b)(null,function(e){return{onSubmit:function(t){e(function(e){return{type:"DATA_PATCH_START",payload:e}}(t))}}})(w),D=(n(263),function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).handleCheckStatus=function(){return"website"===n.props.res.type&&"string"===typeof n.props.res.result?a.a.createElement(j.a,{type:"error",message:n.props.res.result,banner:!0}):"website"!==n.props.res.type&&"other"!==n.props.res.type||!0!==n.props.res.result?a.a.createElement(j.a,{type:"error",message:"OFF",banner:!0}):a.a.createElement(j.a,{type:"success",message:"ON",banner:!0})},n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(O,null,a.a.createElement(v,null,this.props.res.title),a.a.createElement(v,null,this.handleCheckStatus()),a.a.createElement(S,{comment:this.props.res.comment,id:this.props.res.id}))}}]),t}(r.Component));function _(){var e=Object(m.a)(["\n  width: 100vw;\n  display: flex;\n  flex-wrap: wrap;\n"]);return _=function(){return e},e}var k=b.a.div(_()),I=function(e){return e.data},P=function(e){return e.position},H=n(73),F=function(e,t,n){var r=Array.from(e),a=r.splice(t,1),c=Object(f.a)(a,1)[0];return r.splice(n,0,c),r},N=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).onDragEnd=function(e){if(e.destination){var t=F(n.checkPosition(n.props.dataItem),e.source.index,e.destination.index);n.props.setPosition(t);var r=t.map(function(e){return e.id});localStorage.setItem("position",JSON.stringify(r))}},n.checkPosition=function(e){var t=JSON.parse(localStorage.getItem("position"));if(null===t)return e;if(t.length===e.length)return t.map(function(t){return e.find(function(e){return e.id===t})});if(t.length!==e.length){var n=function(e,t){var n=[];for(var r in e=e.toString().split(",").map(Number),t=t.toString().split(",").map(Number),e)-1===t.indexOf(e[r])&&n.push(e[r]);return n}(e.map(function(e){return e.id}),t);console.log(n);var r=t.concat(n);return localStorage.setItem("position",JSON.stringify(r)),r.map(function(t){return e.find(function(e){return e.id===t})})}return e},n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getData()}},{key:"render",value:function(){if(0===this.props.dataItem.length)return"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...";var e=this.checkPosition(this.props.dataItem);return a.a.createElement(k,null,a.a.createElement(H.a,{onDragEnd:this.onDragEnd},a.a.createElement(H.c,{droppableId:"droppable",direction:"horizontal"},function(t,n){return a.a.createElement("div",Object.assign({ref:t.innerRef,style:(r=n.isDraggingOver,{background:r?"lightblue":"#fff",display:"flex",padding:0,overflow:"auto"})},t.droppableProps),e.map(function(e,t){return a.a.createElement(H.b,{key:e.id,draggableId:e.id,index:t},function(t,n){return a.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:(r=n.isDragging,c=t.draggableProps.style,Object(d.a)({userSelect:"none",padding:0,margin:0,background:r?"lightgreen":"#fff"},c))}),a.a.createElement(D,{key:e.id,res:e}));var r,c})}),t.placeholder);var r})))}}]),t}(r.Component),R=Object(x.b)(function(e){return{dataItem:I(e),positionItem:P(e)}},function(e){return{getData:function(t){e({type:"DATA_FETCH_START"})},setPosition:function(t){e(function(e){return{type:"SET_BLOCK_POSITION",payload:e}}(t))}}})(N);function J(){var e=Object(m.a)(["\n  width: 100vw;\n  display: flex;\n  flex-wrap: wrap;\n"]);return J=function(){return e},e}var L=b.a.div(J()),U=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(L,null,a.a.createElement(R,null))}}]),t}(r.Component),B=n(13),z=n(141),K=n(142),M={data:[]},G=n(16),W=n.n(G),q=n(9),Q="https://novaweb.studio/dashboard/_api/projects/";function V(e){return 204===e.status||205===e.status?null:e.json()}function X(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}function Y(e,t){return fetch(e,t).then(X).then(V)}var Z={getAll:function(){return function(e){return Y(e,{method:"GET",headers:{accept:"application/json"}})}("".concat(Q))},patchComent:function(e){var t=e.id,n=e.body;return function(e,t){return Y(e,{method:"PATCH",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(t)})}("".concat(Q).concat(t),n)}},$=W.a.mark(te),ee=W.a.mark(ne);function te(e){var t;return W.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(q.a)(Z.getAll,e.payload);case 3:return t=n.sent,n.next=6,Object(q.c)({type:"DATA_FETCH_SUCCEEDED",data:t});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(q.c)({type:"DATA_FETCH_FAILED",message:n.t0.message});case 12:case"end":return n.stop()}},$,this,[[0,8]])}function ne(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)("DATA_FETCH_START",te);case 2:case"end":return e.stop()}},ee,this)}var re=ne,ae=W.a.mark(oe),ce=W.a.mark(ie);function oe(e){var t;return W.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(q.a)(Z.patchComent,e.payload);case 3:return t=n.sent,n.next=6,Object(q.c)({type:"DATA_PATCH_SUCCEEDED",payload:t});case 6:return n.next=8,Object(q.c)({type:"DATA_FETCH_START",data:""});case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(q.c)({type:"DATA_PATCH_FAILED",message:n.t0.message});case 14:case"end":return n.stop()}},ae,this,[[0,10]])}function ie(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)("DATA_PATCH_START",oe);case 2:case"end":return e.stop()}},ce,this)}var se=ie,ue=W.a.mark(pe);function pe(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[Object(q.b)(re),Object(q.b)(se)];case 2:case"end":return e.stop()}},ue,this)}var le=Object(K.a)(),de=Object(B.createStore)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATA_FETCH_START":return Object(d.a)({},e,{data:[]});case"DATA_FETCH_SUCCEEDED":return Object(d.a)({},e,{data:t.data});case"DATA_PATCH_START":case"DATA_PATCH_SUCCEEDED":return Object(d.a)({},e);case"SET_BLOCK_POSITION":return Object(d.a)({},e,{data:t.payload});default:return e}},Object(z.composeWithDevTools)(Object(B.applyMiddleware)(le)));le.run(pe),o.a.render(a.a.createElement(x.a,{store:de},a.a.createElement(U,null)),document.getElementById("root"))}},[[147,2,1]]]);
//# sourceMappingURL=main.87e90e88.chunk.js.map